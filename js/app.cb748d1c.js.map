{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/Canvas.vue","webpack:///./src/scripts/circles.js","webpack:///./src/scripts/stars.js","webpack:///./src/components/Canvas.vue?f3c7","webpack:///./src/App.vue?eabf","webpack:///./src/main.js","webpack:///./src/assets/song.mp3","webpack:///./src/App.vue?4640","webpack:///./src/components/Canvas.vue?5bb7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","width","height","class","style","fontSizeName","undefined","player","musicName","musicAuthor","fontSizeAlbum","musicALbum","ref","change_music_state","src","crossorigin","num_circles","max_r","min_r","max_v","min_v","max_vopa","min_vopa","margin","thetaR2xy","theta","cx","cy","x","Math","round","sin","y","cos","Circle","this","Circles","init","innerR","avgF","v","random","PI","vxy","opacity","vopa","next","draw","cont","beginPath","ga","globalAlpha","arc","fill","num","list","num_stars","Star","Stars","alpha","tr","omega","lineTo","FFTsz","Smoothing","powBaseRatio","barNumBase","log2","bars","info","ctxInfo","music","myAudioContext","click_count","ratio","particles","angle","step","scaleR","scaleStep","color_groups","pos","code","musicState","analyser","AudioContext","requestAnimationFrame","cancelAnimationFrame","computed","max","mounted","that","onload","$refs","getContext","myAudio","draw_all","methods","prepare_pic","source","createMediaElementSource","createAnalyser","fftSize","smoothingTimeConstant","connect","destination","processor","createScriptProcessor","draw_smooth_curve","index","num_inds","ind","middle","p1","p2","theta0","theta1","theta2","point0","point1","point2","e","moveTo","quadraticCurveTo","draw_pic","w","h","contCenter","array","Uint8Array","frequencyBinCount","getByteFrequencyData","Array","from","avg","min","points","map","element","powBase","pow","inds","exp","pows","unique_inds","uniq","lineWidth","stroke","draw_info","clearRect","save","gradient","createRadialGradient","selector","addColorStop","strokeStyle","fillStyle","currentTime","duration","xpos","ypos","dot_circle","Path2D","restore","init_music","load","promise","play","then","_","console","log","catch","error","resume","musicPath","pause","init_canvas","canvas","context","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","oldWidth","oldHeight","scale","initCanvases","draw_frame","render","__scopeId","components","Canvas","app","createApp","App","use","ElementPlus","mount"],"mappings":"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","file":"js/app.cb748d1c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <Canvas :width=\"650\" :height=\"650\"></Canvas>\n</template>\n\n<script>\nimport Canvas from './components/Canvas.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Canvas\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  /* margin-top: 60px; */\n\n  height: 100%;\n  background-color: black;\n  background: url(./assets/background.png);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n</style>\n","<template>\n  <div>\n    <div :style=\"{'width': `${width}px`, 'height': `${height}px`}\" class=\"outer-div\">\n      <div class=\"name-div\" :style=\"{'font-size': `${fontSizeName}px`}\">\n        {{this.player.musicName !== undefined? name = this.player.musicName: ''}}\n      </div>\n      <div class=\"author-div\">\n        {{this.player.musicAuthor !== undefined? name = this.player.musicAuthor: ''}}\n      </div>\n      <div class=\"album-div\" :style=\"{'font-size': `${fontSizeAlbum}px`}\">\n        {{this.player.musicALbum !== undefined? name = this.player.musicALbum: ''}}\n      </div>\n    </div>\n    <canvas ref=\"info\" class=\"center cvs\" v-on:click=\"change_music_state\"></canvas>\n    <audio ref=\"myAudio\" :src=\"require('@/assets/song.mp3')\" crossorigin=\"anonymous\"></audio>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\nimport Circles from '../scripts/circles.js'\nimport Stars from '../scripts/stars.js'\n\nexport default {\n  name: 'Canvas',\n  data() {\n    return {\n      // canvas parameters\n      height: 650,\n      width: 650,\n\n      // FFT drawer\n      FFTsz: 2048,\n      Smoothing: 0.9,\n      powBaseRatio: 0.25,\n      barNumBase: Math.log2(this.FFTsz),\n      bars: [],\n      info: null,\n      ctxInfo: null,\n      music: null,\n      myAudioContext: null,\n      click_count: 0,\n      ratio: null,\n      innerR: 190,\n      avgF: 0,\n\n      // particle effect\n      particles: null,\n\n      // dynamic progress bar drawer\n      angle: 0,\n      step: 0.01 * Math.PI,\n      scaleR: 2,\n      scaleStep: 0.25,\n      v: 1,\n\n      // color tables\n      color_groups: [\n          [{pos: 0, code: 'rgb(122,161,210)'}, {pos: 0.4, code: 'rgb(219,212,180)'}, {pos: 0.7, code: 'rgb(204,149,192)'}],\n          [{pos: 0, code: 'rgb(247,121,125)'}, {pos: 0.4, code: 'rgb(251,215,134)'}, {pos: 0.7, code: 'rgb(198,255,221)'}]\n      ],\n\n      // music\n      player: {\n          musicName: '手紙 ~拝啓 十五の君へ',\n          musicAuthor: 'Cover: 绯赤艾莉欧',\n          musicALbum: '手紙~拝啓 十五の君へ~',\n          musicState: 'ready'\n      },\n\n      // FFT analyser\n      analyser: null,\n\n      // window object\n      AudioContext: null,\n      requestAnimationFrame: null,\n      cancelAnimationFrame: null\n    }\n  },\n  computed: {\n    fontSizeName: function () {\n      if (!this.player.musicName) return 35\n      return Math.max(30 - (this.player.musicName.length > 6 ? 1 : 0) * Math.round((this.player.musicName.length - 6) / 2), 20)\n    },\n    fontSizeAlbum: function () {\n      if (!this.player.musicALbum) return 12\n      return Math.max(12 - (this.player.musicALbum.length > 16 ? 1: 0) * Math.round((this.player.musicALbum.length - 16) / 4), 8)\n    }\n  },\n  mounted() {\n    const that = this\n    window.onload = function () {\n      // init music node\n      that.myAudioContext = new AudioContext()\n      that.info = that.$refs.info\n      that.ctxInfo = that.info.getContext('2d')\n      that.music = that.$refs.myAudio\n      that.particles = new Stars()\n\n      // draw\n      that.draw_all()\n    }\n  },\n  methods: {\n    prepare_pic() {\n      const source = this.myAudioContext.createMediaElementSource(this.music)\n      this.analyser = this.myAudioContext.createAnalyser()\n      this.analyser.fftSize = 16384\n      this.analyser.smoothingTimeConstant = this.Smoothing\n      source.connect(this.analyser)\n      this.analyser.connect(this.myAudioContext.destination)\n      const processor = this.myAudioContext.createScriptProcessor(1024)\n      processor.connect(this.myAudioContext.destination)\n      this.analyser.connect(processor)\n    },\n    // position transfer\n    thetaR2xy(theta, r, cx, cy) {\n      const x = Math.round(cx + r * Math.sin(theta))\n      const y = Math.round(cy - r * Math.cos(theta))\n      return {\n        x: x,\n        y: y\n      }\n    },\n    // draw curve smoothly\n    draw_smooth_curve(cont, data, index, cx, cy) {\n      const num_inds = index.length\n      const ind = function(i) {\n        return (i + num_inds) % num_inds\n      }\n      const middle = function(p1, p2) {\n        return {\n          x: (p1.x + p2.x) / 2,\n          y: (p1.y + p2.y) / 2\n        }\n      }\n      for(let i=0; i<num_inds; i++) {\n        if(i === 0){\n          let theta0 = 2 * Math.PI * ind(i-1) / num_inds\n          let theta1 = 2 * Math.PI * ind(i) / num_inds\n          let theta2 = 2 * Math.PI * ind(i+1) / num_inds\n          let point0 = this.thetaR2xy(theta0, data[index[ind(i-1)]], cx, cy)\n          let point1 = this.thetaR2xy(theta1, data[index[ind(i)]], cx, cy)\n          let point2 = this.thetaR2xy(theta2, data[index[ind(i+1)]], cx, cy)\n          let s = middle(point0, point1)\n          let e = middle(point1, point2)\n          cont.moveTo(s.x, s.y)\n          cont.quadraticCurveTo(point1.x, point1.y, e.x, e.y)\n        }\n        else{\n          let theta1 = 2 * Math.PI * ind(i) / num_inds\n          let theta2 = 2 * Math.PI * ind(i+1) / num_inds\n          let point1 = this.thetaR2xy(theta1, data[index[ind(i)]], cx, cy)\n          let point2 = this.thetaR2xy(theta2, data[index[ind(i+1)]], cx, cy)\n          let e = middle(point1, point2)\n          cont.quadraticCurveTo(point1.x, point1.y, e.x, e.y)\n        }\n      }\n    },\n    // draw FFT result\n    draw_pic(cont, w, h, d) {\n      const that = this\n      const contCenter = {\n        x: w / (2 * this.ratio), \n        y: h / (2 * this.ratio)\n      };\n      const array = new Uint8Array(this.analyser.frequencyBinCount)\n      this.analyser.getByteFrequencyData(array)\n      const data = Array.from(array)\n      let avg = 0\n      if(data !== null && data !== undefined){\n        for(let i=0; i<data.length; i++){\n          avg += data[i] / 255\n        }\n        avg = avg / data.length * 50\n      }\n      this.avgF = Math.min(avg, 50)\n      const points = data.map(function(element){\n        return d + that.avgF + element / 3\n      });\n      const powBase = Math.pow(2, this.powBaseRatio)\n      let inds = []\n      let exp = 0\n      while(true){\n        let pows = Math.round(Math.pow(powBase, exp) - 1)\n        if(pows >= points.length) break\n        inds.push(pows)\n        exp ++\n      }\n      const unique_inds = _.uniq(inds)\n      cont.beginPath()\n      cont.lineWidth = 3\n      // cont.lineCap = \"round\"\n      this.draw_smooth_curve(cont, points, unique_inds, contCenter.x, contCenter.y)\n      // cont.strokeStyle = \"rgba(255,255,255,0.7)\"\n      cont.stroke()\n    },\n    // draw music info\n    draw_info() {\n      this.ctxInfo.clearRect(0, 0, this.info.width, this.info.height)\n      this.ctxInfo.save()\n\n      const cx = this.info.width / (2 * this.ratio)\n      const cy = this.info.height / (2 * this.ratio)\n\n      // draw progress\n      const gradient = this.ctxInfo.createRadialGradient(cx, cy, this.innerR + this.avgF, cx, cy, 275)\n      const selector = 1\n      for(let i=0; i<this.color_groups[selector].length; i++){\n        gradient.addColorStop(this.color_groups[selector][i].pos, this.color_groups[selector][i].code)\n      }\n      this.ctxInfo.beginPath()\n      this.ctxInfo.strokeStyle = gradient\n      this.ctxInfo.fillStyle = gradient\n      this.ctxInfo.lineWidth = 3\n      let r = this.music.currentTime / this.music.duration * 2 * Math.PI\n      this.ctxInfo.arc(cx, cy, this.innerR + this.avgF, - Math.PI / 2, - Math.PI / 2 + r)\n      const ga = this.ctxInfo.globalAlpha\n      this.ctxInfo.globalAlpha = 0.3\n      this.ctxInfo.stroke()\n      this.ctxInfo.beginPath()\n      this.ctxInfo.lineWidth = 2\n      this.ctxInfo.arc(cx, cy, this.innerR + this.avgF, - Math.PI / 2 + r, Math.PI * 3 / 2)\n      this.ctxInfo.globalAlpha = 0.7\n      this.ctxInfo.stroke()\n      this.ctxInfo.globalAlpha = ga\n      this.draw_pic(this.ctxInfo, this.info.width, this.info.height, 200)\n      this.particles.draw(this.ctxInfo)\n      this.particles.next(this.info.width / (2 * this.ratio), this.info.height / (2 * this.ratio), this.innerR, this.avgF)\n\n      // draw dot\n      const xpos = this.info.width / (2 * this.ratio) + Math.sin(r) * (this.innerR + this.avgF)\n      const ypos = this.info.height / (2 * this.ratio) - Math.cos(r) * (this.innerR + this.avgF)\n\n      this.ctxInfo.beginPath()\n      this.ctxInfo.arc(xpos, ypos, this.scaleR, 0, 2 * Math.PI)\n      this.ctxInfo.fillStyle = 'rgba(255,255,255,0.3)'\n      this.ctxInfo.fill()\n\n      // this.ctxInfo.beginPath()\n      // this.ctxInfo.arc(xpos, ypos, 8, 0, 2 * Math.PI)\n      const dot_circle = new Path2D()\n      dot_circle.arc(xpos, ypos, 8, 0, 2 * Math.PI)\n      this.ctxInfo.fillStyle = 'rgba(255,255,255,0.9)'\n      // this.ctxInfo.fill()\n      this.ctxInfo.fill(dot_circle)\n      // const that = this\n      // this.info.addEventListener('mousemove', function(event) {\n      //   if (that.ctxInfo.isPointInPath(dot_circle, event.offsetX, event.offsetY)) {\n      //     console.log('true')\n      //   }\n      // })\n\n      this.ctxInfo.beginPath()\n      this.ctxInfo.lineWidth = 6\n      this.ctxInfo.arc(xpos, ypos, 15, this.angle, this.angle + Math.PI / 3)\n      this.ctxInfo.strokeStyle = 'rgba(255,255,255,0.7)'\n      this.ctxInfo.stroke()\n\n      this.ctxInfo.beginPath()\n      this.ctxInfo.lineWidth = 6\n      this.ctxInfo.arc(xpos, ypos, 15, this.angle + Math.PI, this.angle + Math.PI * 4 / 3)\n      this.ctxInfo.strokeStyle = 'rgba(255,255,255,0.7)'\n      this.ctxInfo.stroke()\n\n      this.ctxInfo.restore()\n\n      // update variables\n      this.angle = this.angle + this.step\n      if(this.angle >= Math.PI * 2) this.angle = this.angle - Math.PI * 2\n      this.scaleR += this.scaleStep * this.v\n      if(this.scaleR >= 32) this.v = -1\n      if(this.scaleR <= 2) this.v = 1\n    },\n    init_music() {\n      const that = this\n      this.music.load()\n      const promise = this.music.play()\n      if (promise !== undefined) {\n        promise.then(function(_) {\n          console.log(\"music play successfully.\")\n          that.player.musicState = 'playing'\n        }).catch(function(error) {\n          console.log(error)\n        })\n      }\n    },\n    change_music_state() {\n      const that = this\n      this.click_count += 1\n      if(this.click_count == 1){\n        this.myAudioContext.resume().then(function(){\n          console.log('AudioContext resume successfully.')\n          that.init_music()\n        })\n      }\n      else if(this.player.musicPath === '') return\n      else{\n        if(this.player.musicState === 'ready') this.init_music()\n        else if(this.player.musicState === 'paused'){\n          this.music.play()\n          this.player.musicState = 'playing'\n        }\n        else if(this.player.musicState === 'playing'){\n          this.music.pause()\n          this.player.musicState = 'paused'\n        }\n      }\n    },\n    init_canvas(canvas, context) {\n      canvas.width = this.width\n      canvas.height = this.height\n      // finally query the various pixel ratios\n      const devicePixelRatio = window.devicePixelRatio || 1\n      const backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1\n      this.ratio = devicePixelRatio / backingStoreRatio\n      // upscale the canvas if the two ratios don't match\n      if (devicePixelRatio !== backingStoreRatio) {\n        const oldWidth = canvas.width\n        const oldHeight = canvas.height\n        canvas.width = oldWidth * this.ratio\n        canvas.height = oldHeight * this.ratio\n        canvas.style.width = oldWidth + 'px'\n        canvas.style.height = oldHeight + 'px'\n        // now scale the context to counter\n        // the fact that we've manually scaled\n        // our canvas element\n        context.scale(this.ratio, this.ratio)\n      }\n    },\n    initCanvases() {\n      this.init_canvas(this.info, this.ctxInfo)\n    },\n    draw_all() {\n      const that = this\n      //draw one animation frame\n      const draw_frame = function () {\n        that.draw_info()\n        requestAnimationFrame(draw_frame)\n      }\n      //initialize audio nodes\n      this.prepare_pic()\n      // initialize canvas\n      this.initCanvases()\n      // init particles\n      this.particles.init(this.info.width / (2 * this.ratio), this.info.height / (2 * this.ratio), this.innerR, this.avgF)\n\n      requestAnimationFrame(draw_frame)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.outer-div{\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0;\n  padding: 0;\n}\n\n.name-div{\n  /* height: 60px; */\n  width: 310px;\n  position: fixed;\n  transform: translateX(-50%);\n  left: 50%;\n  top: 230px;\n  text-align: center;\n  font-weight: 300;\n  font-family: 'Microsoft YaHei';\n  color: white;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.author-div{\n  /* height: 40px; */\n  width: 320px;\n  position: fixed;\n  transform: translateX(-50%);\n  left: 50%;\n  top: 330px;\n  text-align: center;\n  font-weight: 300;\n  font-family: 'Microsoft YaHei';\n  font-size: 22px;\n  color: white;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.album-div{\n  /* height: 25px; */\n  width: 280px;\n  position: fixed;\n  transform: translateX(-50%);\n  left: 50%;\n  top: 380px;\n  text-align: center;\n  font-family: 'Microsoft YaHei';\n  color: white;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.add-btn{\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n}\n\n.img-btn {\n  height: 100px;\n  width: 100px;\n  cursor: pointer;\n  position: absolute;\n  bottom: 30px;\n  left: 30px;\n}\n\n.center{\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.cvs{\n  background-color: rgba(255,255,255,0);\n}\n</style>\n","// particle effect drawer\nconst num_circles = 30\nconst max_r = 8\nconst min_r = 3\nconst max_v = 0.8\nconst min_v = 0.5\nconst max_vopa = 0.012\nconst min_vopa = 0.007\nconst margin = 10\nfunction thetaR2xy(theta, r, cx, cy) {\n    const x = Math.round(cx + r * Math.sin(theta))\n    const y = Math.round(cy - r * Math.cos(theta))\n    return {\n        x: x,\n        y: y\n    }\n}\nfunction Circle(){\n    return this\n}\nCircle.prototype.init = function(x, y, innerR, avgF){\n    this.v = {x: 0, y: 0}\n    this.theta = Math.random() * Math.PI * 2\n    const vxy = Math.random() * (max_v - min_v) + min_v\n    this.v.x = vxy * Math.sin(this.theta)\n    this.v.y = vxy * - Math.cos(this.theta)\n    this.r = Math.random() * (max_r - min_r) + min_r\n    const p = thetaR2xy(this.theta, innerR + avgF + margin, x, y)\n    this.cx = p.x\n    this.cy = p.y\n    this.opacity = 1\n    this.vopa = Math.random() * (max_vopa - min_vopa) + min_vopa\n}\nCircle.prototype.next = function(x, y, innerR, avgF){\n    this.cx += this.v.x\n    this.cy += this.v.y\n    this.opacity -= this.vopa\n    if(this.opacity <= 0) this.init(x, y, innerR, avgF)\n}\nCircle.prototype.draw = function(cont){\n    cont.beginPath()\n    const ga = cont.globalAlpha\n    cont.arc(this.cx, this.cy, this.r, 0, Math.PI * 2)\n    cont.globalAlpha = this.opacity\n    cont.fill()\n    cont.globalAlpha = ga\n}\nfunction Circles(){\n    return this\n}\nCircles.prototype.init = function(x, y, innerR, avgF){\n    this.num = num_circles\n    this.list = []\n    for(let i=0; i<this.num; i++){\n        let t = new Circle()\n        t.init(x, y, innerR, avgF)\n        this.list.push(t)\n    }\n}\nCircles.prototype.next = function(x, y, innerR, avgF){\n    for(let i=0; i<this.num; i++){\n        this.list[i].next(x, y, innerR, avgF)\n    }\n}\nCircles.prototype.draw = function(cont){\n    for(let i=0; i<this.num; i++){\n        this.list[i].draw(cont)\n    }\n}\n\nexport default Circles","// particle effect drawer\nconst num_stars = 30\nconst max_r = 8\nconst min_r = 3\nconst max_v = 0.8\nconst min_v = 0.5\nconst max_vopa = 0.012\nconst min_vopa = 0.007\nconst margin = 10\nfunction thetaR2xy(theta, r, cx, cy) {\n    const x = Math.round(cx + r * Math.sin(theta))\n    const y = Math.round(cy - r * Math.cos(theta))\n    return {\n        x: x,\n        y: y\n    }\n}\nfunction Star(){\n    return this\n}\nStar.prototype.init = function(x, y, innerR, avgF){\n    this.v = {x: 0, y: 0}\n    this.theta = Math.random() * Math.PI * 2\n    const vxy = Math.random() * (max_v - min_v) + min_v\n    this.v.x = vxy * Math.sin(this.theta)\n    this.v.y = vxy * - Math.cos(this.theta)\n    this.r = Math.random() * (max_r - min_r) + min_r\n    const p = thetaR2xy(this.theta, innerR + avgF + margin, x, y)\n    this.cx = p.x\n    this.cy = p.y\n    this.opacity = 1\n    this.vopa = Math.random() * (max_vopa - min_vopa) + min_vopa\n}\nStar.prototype.next = function(x, y, innerR, avgF){\n    this.cx += this.v.x\n    this.cy += this.v.y\n    this.opacity -= this.vopa\n    if(this.opacity <= 0) this.init(x, y, innerR, avgF)\n}\nStar.prototype.draw = function(cont){\n    cont.beginPath()\n    const alpha = (2 * Math.PI) / 10\n    const ga = cont.globalAlpha\n    for(let i=11; i!=0; i--) {\n        let tr = this.r * (i % 2 + 1) / 2\n        let omega = alpha * i\n        cont.lineTo((tr * Math.sin(omega)) + this.cx, (tr * Math.cos(omega)) + this.cy)\n    }\n    cont.globalAlpha = this.opacity\n    cont.fill()\n    cont.globalAlpha = ga\n}\nfunction Stars(){\n    return this\n}\nStars.prototype.init = function(x, y, innerR, avgF){\n    this.num = num_stars\n    this.list = []\n    for(let i=0; i<this.num; i++){\n        let t = new Star()\n        t.init(x, y, innerR, avgF)\n        this.list.push(t)\n    }\n}\nStars.prototype.next = function(x, y, innerR, avgF){\n    for(let i=0; i<this.num; i++){\n        this.list[i].next(x, y, innerR, avgF)\n    }\n}\nStars.prototype.draw = function(cont){\n    for(let i=0; i<this.num; i++){\n        this.list[i].draw(cont)\n    }\n}\n\nexport default Stars","import { render } from \"./Canvas.vue?vue&type=template&id=0aa86c20&scoped=true\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js\"\n\nimport \"./Canvas.vue?vue&type=style&index=0&id=0aa86c20&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0aa86c20\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=72702bac\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=72702bac&lang=css\"\nscript.render = render\n\nexport default script","import {createApp, Vue} from 'vue'\nimport App from './App.vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/lib/theme-chalk/index.css'\n\nconst app = createApp(App)\napp.use(ElementPlus)\napp.mount('#app')\n","module.exports = __webpack_public_path__ + \"media/song.fb887f67.mp3\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=72702bac&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Canvas.vue?vue&type=style&index=0&id=0aa86c20&scoped=true&lang=css\""],"sourceRoot":""}